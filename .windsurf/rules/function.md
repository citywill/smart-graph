---
trigger: always_on
---

# 功能

## 文档管理

- 文档管理
  - 从数据库中按照创建时间的倒序读取文档
  - 提供已经上传的文档列表，提供按照标题进行检索的功能，提供分页查看功能；每篇文档的信息放到一个expander中。
  - 实现查看文档内容
  - 实现查看文档元数据，包括：文档标题、上传时间、文档大小、内容摘要等。
  - 实现下载文档
  - 实现删除文档，要删除数据库中文档和相关的块，以及上传的文档文件
- 文档上传
  - 上传文档，暂时只包括txt、md类型
  - 提供chunk分块的分隔符控件，默认为`\n\n`；提供分块最大长度，默认为500
  - 对上传的内容进行解析：
    - 文档元数据的存储，包括文档路径、标题、上传时间、文档大小、内容摘要等
    - 分块（chunk），按照用户设置的`分隔符`和`最大长度`进行分块
    - 将块存储到neo4j中，并存储向量数据，并对块的上下文关系进行连接
    - 将每块的内容使用大模型进行实体识别，在neo4j中保存实体和实体关系
    - 文件上传和解析过程使用进度条提示进度

## 智能对话

- 对话提交组件固定在对话窗口下方，页面中间是双方对话内容
- 根据用户提问召回neo4j的数据，并提供给大模型参考回复，如果用户提出的问题和数据无关，大模型予以提示
- 如果对话和neo4j的数据有关，展示相关知识图谱的可视化形状，可以进行放大、缩小、拖拽等操作